<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="dsfd"><title> | 雨天</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">雨天</h1><a id="logo" href="/.">雨天</a><p class="description">行百里者半九十</p></div><div id="nav-menu"><a href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"></h1><div class="post-content"><!DOCTYPE html>
<!-- saved from url=(0043)http://nsq.byted.org/channel/121698/create/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="NSQ Admin Platform">
    <meta name="author" content="Sifan Weng">
    <link rel="icon" href="http://nsq.byted.org/static/assets/img/bytedance-nsq.ico">

    <title>Bytedance NSQ Admin Platform</title>

    <!-- Bootstrap core CSS -->
    <link href="./Bytedance NSQ Admin Platform_files/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="./Bytedance NSQ Admin Platform_files/dashboard.css" rel="stylesheet">
    <link href="./Bytedance NSQ Admin Platform_files/style.css" rel="stylesheet">
    

    <script src="./Bytedance NSQ Admin Platform_files/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <link rel="stylesheet" href="./Bytedance NSQ Admin Platform_files/layer.css" id="layui_layer_skinlayercss"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>
  <body style="width: auto">

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" style="margin-top: 5px" href="http://nsq.byted.org/" target="_blank" rel="external">Bytedance NSQ Admin Platform</a>
        </div>
       <div id="navbar-brand" class="navbar-collapse collapse">
           <ul class="dropdown navbar-right" style="margin-top: 10px;">
          <a class="btn btn-info dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="font-size: 16px">
             wuzhenxing
              <span class="caret"></span>
              
              <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
              
          </a>
          <ul class="dropdown-menu">
              <li><a href="http://nsq.byted.org/alarm/concern" target="_blank" rel="external">我关心的</a></li>
              <li><a href="http://nsq.byted.org/accounts/logout/" target="_blank" rel="external">退出登录</a></li>
          </ul>
      </ul>
       </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-2 sidebar" style="background-color: #FFFFFF">
            <ul id="accordion" class="accordion">
                <li class="dropdown">
                    <div class="link">Alarms<i class="fa fa-chevron-down"></i></div>
                    <ul class="submenu">
                        <li><a href="http://nsq.byted.org/alarm" target="_blank" rel="external">alarms</a></li>
                    </ul>
                </li>
                <li>
                    <div class="link" href="/topic">Topics</div>
                    <ul class="submenu">
                        <li><a href="http://nsq.byted.org/topic" target="_blank" rel="external">topics</a></li>
                    </ul>
                </li>
                <li>
                    <div class="link">Clusters<i class="fa fa-chevron-down"></i></div>
                    <ul class="submenu">
                        <li><a href="http://nsq.byted.org/cluster" target="_blank" rel="external">clusters</a></li>
                    </ul>
                </li>
                <li>
                    <div class="link">PersonalInfo<i class="fa fa-chevron-down"></i></div>
                    <ul class="submenu">
                        <li><a href="http://nsq.byted.org/alarm/myapproval" target="_blank" rel="external">我申请的T/C</a></li>
                        <li><a href="http://nsq.byted.org/alarm/concern" target="_blank" rel="external">我关心的T/C</a></li>
                        
                    </ul>
                </li>
                <li></li>
            </ul>

























        </div>
        <div class="col-md-10 col-md-offset-2 main">
          <div class="sub-header">
            <h2>创建Channel<small> - Topic: live_room_event_topic</small> </h2>
          </div>
          

    <script src="./Bytedance NSQ Admin Platform_files/jquery.min.js"></script>
    <script src="./Bytedance NSQ Admin Platform_files/layer.js"></script>
<script type="text/javascript">

function validate_required_text(field,alerttxt)
{
  with(field) {
    if (value==null||value=="")
    {
        layer.msg(alerttxt);
        return false;
    }
    else {return true;}
  } 
}

function validate_required_number(field,alerttxt)
{
    with (field)
    {
        var re = /^[1-9]+[0-9]*]*$/
        if (!re.test(value))
        {
            layer.msg(alerttxt);
            return false;
        }
    }
}

function validate_form(thisform)
{
    with (thisform)
    {

        if (validate_required_text(channel_name,"Channel 名称为空或非法")==false)
        {channel_name.focus(); return false}
        if (validate_required_text(psm,"PSM 名称为空或非法")==false)
        {psm.focus(); return false}
        if (validate_required_text(subscribers,"联系人为空或非法")==false)
        {subscribers.focus(); return false}
        if (validate_required_text(description,"业务背景为空或非法")==false)
        {description.focus(); return false}

        if (validate_required_number(qps,"QPS 必须是正整数")==false)
        {qps.focus(); return false}

        if(check_information()==false) return false;

         if(confirm("确认提交吗？")){
            return true;
        }
        return false;
    }
}
function check_information() {
    topic_id = $("#topic_id").val();
    channel_name = $("#channel_name").val();
    qps = $("#qps").val();
    psm = $("#psm").val();
    subscribers = $("#subscribers").val();
    url = "/channel/verify/?topic_id="+topic_id+"&channel_name="+channel_name+
     "&qps="+qps+"&psm="+psm+"&subscribers="+subscribers;
    flag = true;
    $.ajax({
        type: "GET",
        //方法所在页面和方法名
        url: url,
        async: false,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function(data) {
            info = data.info;
            if(info){
                flag = false
                layer.msg(info);
            }
        },
    });
    //禁用按钮的提交
    return flag;
}
</script>


<div class="table-responsive">
  <form method="POST" onsubmit="return validate_form(this)">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
         <th width="16%"></th>
        <th width="40%"></th>
        <th width="44%"></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Channel名称 <span aria-hidden="true" style="color: #a41515; font-size: 15px">*</span></td>
        <td colspan="3">
          <input type="text" name="channel_name" id="channel_name" class="form-control" placeholder="Channel名称，仅由大小写字符、数字和下划线构成" required="required">
            <div hidden>
            <input type="text" id="topic_id" class="form-control" hidden="hidden" value="121698">
                </div>
        </td>
      </tr>
       <tr>
          <td>PSM <span aria-hidden="true" style="color: #a41515; font-size: 15px">*</span></td>
          <td colspan="3">
          <input type="text" name="psm" id="psm" class="form-control" required="required" placeholder="请填写对应业务的PSM (tce/noops/ms平台)">
        </td>
      </tr>
     <tr>
        <td>预计的QPS <span aria-hidden="true" style="color: #a41515; font-size: 15px">*</span></td>
        <td colspan="3"><input type="text" name="qps" id="qps" class="form-control" placeholder="业务qps" required="required"></td>
      </tr>
      <tr>
        <td>联系人 <span aria-hidden="true" style="color: #a41515; font-size: 15px">*</span></td>
        <td colspan="3"><input type="text" name="subscribers" id="subscribers" class="form-control" placeholder="需配置多个联系人 (多人逗号分隔)" required="required"></td>
      </tr>
      <tr>
        <td>业务背景 <span aria-hidden="true" style="color: #a41515; font-size: 15px">*</span></td>
        <td colspan="3">
          <textarea name="description" class="form-control height-medium" placeholder="业务背景" required="required"></textarea>
        </td>
      </tr>
      <tr>
        <td>报警配置</td>
        <td>
          <a style="height: 35px; line-height: 35px;" href="https://wiki.bytedance.net/pages/viewpage.action?pageId=86895376" target="_blank">ms平台报警配置</a>
        </td>
        <td colspan="2">
            <a style="height: 35px; line-height: 35px;" href="https://wiki.bytedance.net/pages/viewpage.action?pageId=60301156#NSQ监控报警-指标" target="_blank">NSQ Metrics详解</a>
        </td>
      </tr>
      <!--<tr>
        <td>报警阈值Email <span aria-hidden="true"  style="color: #a41515; font-size: 15px">*</span></td>
        <td><input type="text" name="alarm_email" id="alarm_email" class="form-control" placeholder="请填写Email告警阈值"></td>
      </tr>
      <tr>
        <td>报警阈值Dingding <span aria-hidden="true"  style="color: #a41515; font-size: 15px">*</span></td>
        <td><input type="text" name="alarm_ding" id="alarm_ding" class="form-control" placeholder="请填写DingDing告警阈值"></td>
      </tr>
      <tr>
        <td>报警阈值Phone <span aria-hidden="true"  style="color: #a41515; font-size: 15px">*</span></td>
        <td><input type="text" name="alarm_phone" id="alarm_phone" class="form-control" placeholder="请填写短信告警阈值"></td>
      </tr>
      <tr>
        <td>手机号Phone <span aria-hidden="true"  style="color: #a41515; font-size: 15px">*</span></td>
        <td><input type="text" name="phone" id="phone" class="form-control" placeholder="请填写告警手机号"></td>
      </tr>-->
    </tbody>
  </table>
  <input type="hidden" name="csrfmiddlewaretoken" value="asDBXwHOWCgnCYYXMw9PcYmaPWNG7rmY">
  <button type="submit" class="btn btn-success btn-rect col-md-1">提交</button>
  </form>
</div>

        </div>
      </div>
    </div>

    <script src="./Bytedance NSQ Admin Platform_files/jquery.min.js"></script>
    <script src="./Bytedance NSQ Admin Platform_files/index.js"></script>
    <script src="./Bytedance NSQ Admin Platform_files/jquery.js"></script>
    <script src="./Bytedance NSQ Admin Platform_files/bootstrap.min.js"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  

</body></html></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NSQ/">NSQ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithms/">algorithms</a><span class="category-list-count">32</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cpp/">cpp</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/lintcode/">lintcode</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/problems/">problems</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/区块链/">区块链</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Linked-List/" style="font-size: 15px;">Linked List</a> <a href="/tags/动态规划/" style="font-size: 15px;">动态规划</a> <a href="/tags/图/" style="font-size: 15px;">图</a> <a href="/tags/二分搜索/" style="font-size: 15px;">二分搜索</a> <a href="/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/tags/Math/" style="font-size: 15px;">Math</a> <a href="/tags/Stack/" style="font-size: 15px;">Stack</a> <a href="/tags/二叉树/" style="font-size: 15px;">二叉树</a> <a href="/tags/Hash-Table/" style="font-size: 15px;">Hash Table</a> <a href="/tags/Array/" style="font-size: 15px;">Array</a> <a href="/tags/Bit-Manipulation/" style="font-size: 15px;">Bit Manipulation</a> <a href="/tags/Deque/" style="font-size: 15px;">Deque</a> <a href="/tags/Two-Pointers/" style="font-size: 15px;">Two Pointers</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/SkipList/" style="font-size: 15px;">SkipList</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/07/2017-10-07-docker-ethereum/">基于Docker的Ethereum 开发环境搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/27/2017-06-26-go-profile/">go 基准测试和pprof的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/26/2017-06-26-go-malloc/">go内存分配</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/19/2017-06-19-ratelimiter/">Ratelimter</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/03/2017-06-03-vm/">虚拟存储器</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/06/2017-05-06-linux-awk/">awk</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/06/2017-05-06-mysql/">mysql的一些细节</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/2017-05-01-nsq/">NSQD源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/25/2016-03-25-skip-list/">SkipList(跳表)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/22/2016-03-22-stack-problems/">栈的一些巧妙应用</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://1mhz.me" title="1mhz" target="_blank">1mhz</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">雨天.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>